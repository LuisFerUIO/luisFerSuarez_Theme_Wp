const Y=n=>{window.requestAnimationFrame(async function s(){document.body?await n():window.requestAnimationFrame(s)})};function x(){let n=100;const s=.17,d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),m=()=>d[Math.round(d.length*Math.random())];let o=0,r=0,l=pageYOffset,g=pageXOffset,u,c;function f(){n=innerWidth*s,X()}function X(){u=c.chars.map(t=>{const e=t.getBoundingClientRect();return{el:t,pageY:e.top+l+e.height/2,pageX:e.left+pageXOffset+e.width/2,isVisible:!1}})}function p(t){if("pageY"in t)o=t.pageX,r=t.pageY;else{let e=pageYOffset-l,a=pageXOffset-g;l+=e,g+=a,r+=e,o+=a}u.forEach(e=>{const a=o-e.pageX,h=r-e.pageY,w=Math.sqrt(a*a+h*h),i=w<n;(i!==e.isVisible||!i)&&(e.isVisible=i,gsap.to(e.el,{overwrite:!0,duration:gsap.utils.clamp(.5,3,w/n),scrambleText:{text:i?e.el.orig:m(),chars:"upperAndLowerCase"}}))})}return{init(){if(document.querySelectorAll("p").length===0){console.warn("No se encontraron etiquetas <p> en el DOM.");return}c=new SplitText("p",{type:"chars",charsClass:"char"}),c.chars.forEach(e=>e.orig=e.textContent),window.addEventListener("resize",f),window.addEventListener("pointermove",p),window.addEventListener("scroll",p),f(),p({pageX:0,pageY:0})}}}Y(async()=>{x().init()});
